% ---------------------------------------------------------------------------- %
%% \file sundial.tex
%% \author Sebastien Beaugrand
%% \sa http://beaugrand.chez.com/
%% \copyright CeCILL 2.1 Free Software license
% ---------------------------------------------------------------------------- %
\documentclass[a4paper]{article}
\pagestyle{empty}
\usepackage{vmargin}
\input config.tex
\setpapersize{custom}{\width}{\height}
\addtolength\width{-1cm}
\addtolength\height{-1cm}
\setmarginsrb{5mm}{5mm}{5mm}{5mm}{0mm}{0mm}{0mm}{0mm}
\usepackage{tikz}
\parindent0mm

\newlength{\ymin}
\setlength{\ymin}{-\height}
\ifdim\horizon<1cm
\else
  \addtolength{\sousStylaire}{\horizon}
\fi
\addtolength{\ymin}{\sousStylaire}

\newcommand\sundial{
  \ifdim\horizon<1cm
    \draw (-0.1,\sousStylaire) -- (0.1,\sousStylaire);
    \draw (0,0) -- (0,\sousStylaire);
  \else
    \draw (-0.2,0) -- (0.2,0);
    \draw (0,-0.2) -- (0,0.2);
  \fi
  \draw (-\width/2,\horizon) -- (\width/2,\horizon);
  \ifdim\width>59cm
    \draw (-\width/2,\ymin) -- (-\width/2,\sousStylaire);
    \draw (-\width/6,\ymin) -- (-\width/6,\sousStylaire);
    \draw (\width/6,\ymin) -- (\width/6,\sousStylaire);
    \draw (\width/2,\ymin) -- (\width/2,\sousStylaire);
  \fi
  %\clip (-\width/2,\ymin) rectangle (\width/2,0);
  \draw[color=black,very thick] plot file{hiv07.dat};
  \draw[color=green,very thick] plot file{pri07.dat} node[color=black,below] {9};
  \draw[color=red  ,very thick] plot file{ete07.dat};
  \draw[color=blue ,very thick] plot file{aut07.dat} node[color=black,above] {8};
  \draw[color=black,very thin ] plot file{hiv07_5.dat};
  \draw[color=black,very thin ] plot file{pri07_5.dat};
  \draw[color=black,very thin ] plot file{ete07_5.dat};
  \draw[color=black,very thin ] plot file{aut07_5.dat};
  \draw[color=black,very thick] plot file{hiv08.dat};
  \draw[color=green,very thick] plot file{pri08.dat} node[color=black,below] {10};
  \draw[color=red  ,very thick] plot file{ete08.dat};
  \draw[color=blue ,very thick] plot file{aut08.dat} node[color=black,above] {9};
  \draw[color=black,very thin ] plot file{hiv08_5.dat};
  \draw[color=black,very thin ] plot file{pri08_5.dat};
  \draw[color=black,very thin ] plot file{ete08_5.dat};
  \draw[color=black,very thin ] plot file{aut08_5.dat};
  \draw[color=black,very thick] plot file{hiv09.dat};
  \draw[color=green,very thick] plot file{pri09.dat} node[color=black,below] {11};
  \draw[color=red  ,very thick] plot file{ete09.dat};
  \draw[color=blue ,very thick] plot file{aut09.dat} node[color=black,above] {10};
  \draw[color=black,very thin ] plot file{hiv09_5.dat};
  \draw[color=black,very thin ] plot file{pri09_5.dat};
  \draw[color=black,very thin ] plot file{ete09_5.dat};
  \draw[color=black,very thin ] plot file{aut09_5.dat};
  \draw[color=black,very thick] plot file{hiv10.dat};
  \draw[color=green,very thick] plot file{pri10.dat} node[color=black,below] {12};
  \draw[color=red  ,very thick] plot file{ete10.dat};
  \draw[color=blue ,very thick] plot file{aut10.dat} node[color=black,above] {11};
  \draw[color=black,very thin ] plot file{hiv10_5.dat};
  \draw[color=black,very thin ] plot file{pri10_5.dat};
  \draw[color=black,very thin ] plot file{ete10_5.dat};
  \draw[color=black,very thin ] plot file{aut10_5.dat};
  \draw[color=black,very thick] plot file{hiv11.dat};
  \draw[color=green,very thick] plot file{pri11.dat} node[color=black,below] {13};
  \draw[color=red  ,very thick] plot file{ete11.dat};
  \draw[color=blue ,very thick] plot file{aut11.dat} node[color=black,above] {12};
  \draw[color=black,very thin ] plot file{hiv11_5.dat};
  \draw[color=black,very thin ] plot file{pri11_5.dat};
  \draw[color=black,very thin ] plot file{ete11_5.dat};
  \draw[color=black,very thin ] plot file{aut11_5.dat};
  \draw[color=black,very thick] plot file{hiv12.dat};
  \draw[color=green,very thick] plot file{pri12.dat} node[color=black,below] {14};
  \draw[color=red  ,very thick] plot file{ete12.dat};
  \draw[color=blue ,very thick] plot file{aut12.dat} node[color=black,above] {13};
  \draw[color=black,very thin ] plot file{hiv12_5.dat};
  \draw[color=black,very thin ] plot file{pri12_5.dat};
  \draw[color=black,very thin ] plot file{ete12_5.dat};
  \draw[color=black,very thin ] plot file{aut12_5.dat};
  \draw[color=black,very thick] plot file{hiv13.dat};
  \draw[color=green,very thick] plot file{pri13.dat} node[color=black,below] {15};
  \draw[color=red  ,very thick] plot file{ete13.dat};
  \draw[color=blue ,very thick] plot file{aut13.dat} node[color=black,above] {14};
  \draw[color=black,very thin ] plot file{hiv13_5.dat};
  \draw[color=black,very thin ] plot file{pri13_5.dat};
  \draw[color=black,very thin ] plot file{ete13_5.dat};
  \draw[color=black,very thin ] plot file{aut13_5.dat};
  \draw[color=black,very thick] plot file{hiv14.dat};
  \draw[color=green,very thick] plot file{pri14.dat} node[color=black,below] {16};
  \draw[color=red  ,very thick] plot file{ete14.dat};
  \draw[color=blue ,very thick] plot file{aut14.dat} node[color=black,above] {15};
  \draw[color=black,very thin ] plot file{hiv14_5.dat};
  \draw[color=black,very thin ] plot file{pri14_5.dat};
  \draw[color=black,very thin ] plot file{ete14_5.dat};
  \draw[color=black,very thin ] plot file{aut14_5.dat};
  \draw[color=black,very thick] plot file{hiv15.dat};
  \draw[color=green,very thick] plot file{pri15.dat} node[color=black,below] {17};
  \draw[color=red  ,very thick] plot file{ete15.dat};
  \draw[color=blue ,very thick] plot file{aut15.dat} node[color=black,above] {16};
  \draw[color=black,very thin ] plot file{hiv15_5.dat};
  \draw[color=black,very thin ] plot file{pri15_5.dat};
  \draw[color=black,very thin ] plot file{ete15_5.dat};
  \draw[color=black,very thin ] plot file{aut15_5.dat};
  \draw[color=black,very thick] plot file{hiv16.dat};
  \draw[color=green,very thick] plot file{pri16.dat} node[color=black,below] {18};
  \draw[color=red  ,very thick] plot file{ete16.dat};
  \draw[color=blue ,very thick] plot file{aut16.dat} node[color=black,above] {17};
  \draw[color=black,very thin ] plot file{hiv16_5.dat};
  \draw[color=black,very thin ] plot file{pri16_5.dat};
  \draw[color=black,very thin ] plot file{ete16_5.dat};
  \draw[color=black,very thin ] plot file{aut16_5.dat};
  \draw[color=black,very thick] plot file{hiv17.dat};
  \draw[color=green,very thick] plot file{pri17.dat} node[color=black,below] {19};
  \draw[color=red  ,very thick] plot file{ete17.dat};
  \draw[color=blue ,very thick] plot file{aut17.dat} node[color=black,above] {18};
}

\begin{document}
\begin{tikzpicture}
  \clip (-\width/2,\ymin) rectangle (\width/2,\sousStylaire);
  \sundial
\end{tikzpicture}
\ifdim\width>59cm
  \newpage
  \setpapersize{custom}{210mm}{297mm}
  \begin{tikzpicture}
    \clip (-\width/2,\ymin) rectangle (-\width/6,\sousStylaire);
    \sundial
  \end{tikzpicture}
  \newpage
  \begin{tikzpicture}
    \clip (-\width/6,\ymin) rectangle (\width/6,\sousStylaire);
    \sundial
  \end{tikzpicture}
  \newpage
  \begin{tikzpicture}
    \clip (\width/6,\ymin) rectangle (\width/2,\sousStylaire);
    \sundial
  \end{tikzpicture}
\fi

\end{document}
