<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>emacs.el</title>
<meta name="Generator" content="Vim/8.1">
<meta name="plugin-version" content="vim8.1_v1">
<meta name="syntax" content="lisp">
<meta name="settings" content="use_css,pre_wrap,no_foldcolumn,expand_tabs,prevent_copy=">
<meta name="colorscheme" content="default">
<style type="text/css">
<!--
pre { white-space: pre-wrap; font-family: monospace; color: #ffffff; background-color: #000000; }
body { font-family: monospace; color: #ffffff; background-color: #000000; }
* { font-size: 1em; }
.Constant { color: #ff6060; }
.Special { color: #ff40ff; }
.Identifier { color: #00ffff; }
.Statement { color: #ffff00; }
.Comment { color: #8080ff; }
-->
</style>
</head>
<body>
<pre id='vimCodeElement'>
<span class="Comment">; ------------------------------------------------------------------------------</span>
<span class="Comment">;; \file .emacs</span>
<span class="Comment">;; \author Sebastien Beaugrand</span>
<span class="Comment">;; \sa <a href="http://beaugrand.chez.com/">http://beaugrand.chez.com/</a></span>
<span class="Comment">;; \copyright CeCILL 2.1 Free Software license</span>
<span class="Comment">; ------------------------------------------------------------------------------</span>
<span class="Comment">; Recharger la configuration : eval-buffer</span>
<span class="Comment">; Accents sur un clavier qwerty : C-\</span>
<span class="Comment">; aspell: apt install aspell-fr</span>
<span class="Comment">; indent: apt install indent</span>
<span class="Comment">; astyle: apt install astyle</span>
<span class="Comment">; w3m   : apt install w3m-el</span>
<span class="Comment">; emacs-x11 (--with-x-toolkit=lucid): vi /usr/share/applications/emacs.desktop</span>
<span class="Comment">; L'envoi de courriel ne fonctionne que sans gnus-emacs (probleme avec netrc)</span>

<span class="Comment">; Parametres</span>
<span class="Special">(</span><span class="Statement">setq</span> nb-cols <span class="Constant">80</span><span class="Special">)</span>
<span class="Special">(</span><span class="Statement">setq</span> user-full-name    <span class="Constant">&quot;Toto&quot;</span><span class="Special">)</span>
<span class="Special">(</span><span class="Statement">setq</span> user-mail-address <span class="Constant">&quot;toto@toto.fr&quot;</span><span class="Special">)</span>
<span class="Special">(</span><span class="Statement">setq</span> mail-smtp-address <span class="Constant">&quot;smtp.toto.fr&quot;</span><span class="Special">)</span>
<span class="Special">(</span><span class="Statement">setq</span> mail-signature
  <span class="Constant">&quot;... Les orcs parcourent librement nos terres... (Eomer du Rohan)&quot;</span><span class="Special">)</span>
<span class="Comment">; Mettre les alias dans ~/.mailrc, par exemple:</span>
<span class="Comment">;alias toto &quot;Toto &lt;toto@toto.fr&gt;&quot;</span>
<span class="Comment">; Mettre l'X-Face dans ~/.xface , par exemple:</span>
<span class="Comment">;X-Face: +/j%~KDrmR_.96jOJD::|&amp;v]2z^G%ZFQ*kjONuMb}cMn/EFovusO|We`U=i]FW4zd%@p68C</span>
<span class="Comment">; 1Y-s}c:eTgv?2#[:-GPMX5idi-4TZqg`g$:&amp;wNLPRIy/w_Wa]!|&gt;}k'NtfsO9[GiH/`Lrvzyfsi$Ir</span>
<span class="Comment">; RMv7wT'uz</span>

<span class="Comment">; Deplacements</span>
<span class="Special">(</span>global-set-key [S-right]  <span class="Special">'</span><span class="Identifier">other-window</span><span class="Special">)</span>
<span class="Special">(</span>global-set-key [S-left]   <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span> <span class="Special">(</span>other-window -1<span class="Special">))</span><span class="Special">)</span>
<span class="Special">(</span>global-set-key [S-up]     <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span> <span class="Special">(</span>scroll-down   1<span class="Special">))</span><span class="Special">)</span>
<span class="Special">(</span>global-set-key [S-down]   <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span> <span class="Special">(</span>scroll-up     1<span class="Special">))</span><span class="Special">)</span>
<span class="Special">(</span>global-set-key [M-right]  <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span> <span class="Special">(</span>forward-char  1<span class="Special">)</span>
                                                     <span class="Special">(</span>scroll-left   1<span class="Special">))</span><span class="Special">)</span>
<span class="Special">(</span>global-set-key [M-left]   <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span> <span class="Special">(</span>backward-char 1<span class="Special">)</span>
                                                     <span class="Special">(</span>scroll-right  1<span class="Special">))</span><span class="Special">)</span>
<span class="Special">(</span>global-set-key [\home]    <span class="Special">'</span><span class="Identifier">beginning-of-line</span><span class="Special">)</span>
<span class="Special">(</span>global-set-key [\end]     <span class="Special">'</span><span class="Identifier">end-of-line</span><span class="Special">)</span>
<span class="Special">(</span>global-set-key [<span class="Special">(</span>meta g<span class="Special">)</span>] <span class="Special">'</span><span class="Identifier">goto-line</span><span class="Special">)</span>
<span class="Special">(</span>mouse-wheel-mode <span class="Statement">t</span><span class="Special">)</span>
<span class="Special">(</span>column-number-mode <span class="Statement">t</span><span class="Special">)</span>
<span class="Special">(</span>show-paren-mode <span class="Statement">t</span><span class="Special">)</span>
<span class="Special">(</span><span class="Statement">setq</span> delete-key-deletes-forward <span class="Statement">t</span><span class="Special">)</span>

<span class="Comment">; Desactiver secondary-selection</span>
<span class="Special">(</span>global-set-key [M-drag-mouse-1] <span class="Special">'</span><span class="Identifier">mouse-set-region</span><span class="Special">)</span>

<span class="Comment">; Apparence</span>
<span class="Special">(</span>tool-bar-mode <span class="Constant">0</span><span class="Special">)</span>
<span class="Special">(</span><span class="Statement">defun</span> frame-setup <span class="Special">()</span>
  <span class="Comment">; RÃ©solution</span>
  <span class="Special">(</span><span class="Statement">setq</span> x-width  <span class="Special">(</span>string-to-number <span class="Special">(</span>shell-command-to-string
    <span class="Constant">&quot;xrdb -symbols | grep DWIDTH  | cut -d '=' -f 2&quot;</span><span class="Special">)))</span>
  <span class="Special">(</span><span class="Statement">setq</span> x-height <span class="Special">(</span>string-to-number <span class="Special">(</span>shell-command-to-string
    <span class="Constant">&quot;xrdb -symbols | grep DHEIGHT | cut -d '=' -f 2&quot;</span><span class="Special">)))</span>

  <span class="Comment">; Font (-font 6x13 pour du &lt;1920)</span>
  <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">&lt;</span> x-width <span class="Constant">1920</span><span class="Special">)</span>
    <span class="Special">(</span><span class="Statement">progn</span> <span class="Special">(</span>set-face-font <span class="Special">'</span><span class="Identifier">default</span> <span class="Constant">&quot;6x13&quot;</span><span class="Special">)</span> <span class="Special">(</span><span class="Statement">setq</span> x-font <span class="Constant">6</span><span class="Special">)</span> <span class="Special">(</span><span class="Statement">setq</span> y-font <span class="Constant">13</span><span class="Special">))</span>
    <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">&lt;</span> x-width <span class="Constant">3840</span><span class="Special">)</span>
      <span class="Special">(</span><span class="Statement">progn</span> <span class="Special">(</span>set-face-font <span class="Special">'</span><span class="Identifier">default</span> <span class="Constant">&quot;7x14&quot;</span><span class="Special">)</span> <span class="Special">(</span><span class="Statement">setq</span> x-font <span class="Constant">7</span><span class="Special">)</span> <span class="Special">(</span><span class="Statement">setq</span> y-font <span class="Constant">14</span><span class="Special">))</span>
      <span class="Special">(</span><span class="Statement">progn</span>
        <span class="Special">(</span>set-face-font <span class="Special">'</span><span class="Identifier">default</span> <span class="Constant">&quot;Monospace 6&quot;</span><span class="Special">)</span>
        <span class="Special">(</span><span class="Statement">setq</span> x-font <span class="Constant">14</span><span class="Special">)</span> <span class="Special">(</span><span class="Statement">setq</span> y-font <span class="Constant">31</span><span class="Special">)</span>
      <span class="Special">)</span>
    <span class="Special">)</span>
  <span class="Special">)</span>

  <span class="Comment">; Couleurs</span>
  <span class="Special">(</span>set-background-color <span class="Constant">&quot;black&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>set-foreground-color <span class="Constant">&quot;white&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>set-cursor-color     <span class="Constant">&quot;white&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>set-face-foreground <span class="Special">'</span><span class="Identifier">menu</span> <span class="Constant">&quot;wheat&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>set-face-background <span class="Special">'</span><span class="Identifier">menu</span> <span class="Constant">&quot;DarkSlateGray&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>set-face-background <span class="Special">'</span><span class="Identifier">scroll-bar</span> <span class="Constant">&quot;DarkSlateGray&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>set-face-background <span class="Special">'</span><span class="Identifier">region</span> <span class="Constant">&quot;DarkSlateGray&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>add-hook <span class="Special">'</span><span class="Identifier">sh-mode-hook</span> <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span>
    <span class="Special">(</span>set-face-foreground 'sh-heredoc <span class="Constant">&quot;wheat&quot;</span><span class="Special">))</span><span class="Special">)</span>
<span class="Special">)</span>
<span class="Special">(</span>frame-setup<span class="Special">)</span>

<span class="Comment">; Encodage des caracteres</span>
<span class="Special">(</span>set-language-environment <span class="Special">'</span><span class="Identifier">UTF-8</span><span class="Special">)</span>

<span class="Comment">; Accents avec un clavier qwerty. Activation et desactivation par C-\</span>
<span class="Special">(</span><span class="Statement">setq</span> default-input-method <span class="Constant">&quot;french-postfix&quot;</span><span class="Special">)</span>

<span class="Comment">; Supplements</span>
<span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span>file-exists-p <span class="Constant">&quot;~/.emacs-plus&quot;</span><span class="Special">)</span> <span class="Special">(</span><span class="Statement">load</span> <span class="Constant">&quot;~/.emacs-plus&quot;</span><span class="Special">))</span>

<span class="Comment">; Taille et position de la fenetre (-geometry 255x73+54+0 pour du 1680x1050)</span>
<span class="Special">(</span><span class="Statement">setq</span> win-num  <span class="Constant">1</span><span class="Special">)</span>
<span class="Special">(</span><span class="Statement">setq</span> win-edge <span class="Constant">6</span><span class="Special">)</span>
<span class="Special">(</span><span class="Statement">setq</span> win-ypos <span class="Constant">0</span><span class="Special">)</span>
<span class="Special">(</span><span class="Statement">setq</span> win-num <span class="Special">(</span><span class="Statement">truncate</span> <span class="Special">(</span><span class="Statement">/</span> x-width <span class="Special">(</span><span class="Statement">*</span> x-font nb-cols<span class="Special">))))</span>
<span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span> <span class="Statement">=</span> x-width <span class="Constant">1024</span><span class="Special">)</span> <span class="Special">(</span><span class="Statement">progn</span> <span class="Special">(</span>set-scroll-bar-mode <span class="Statement">nil</span><span class="Special">)</span> <span class="Special">(</span><span class="Statement">setq</span> win-edge <span class="Constant">3</span><span class="Special">)))</span>
<span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span> <span class="Statement">=</span> x-width <span class="Constant">1920</span><span class="Special">)</span> <span class="Special">(</span><span class="Statement">setq</span> win-edge <span class="Constant">6</span><span class="Special">))</span>
<span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">&gt;</span>  x-width <span class="Constant">1920</span><span class="Special">)</span> <span class="Special">(</span><span class="Statement">setq</span> win-edge <span class="Constant">4</span><span class="Special">))</span>
<span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">&gt;</span>  x-width <span class="Constant">1920</span><span class="Special">)</span> <span class="Special">(</span><span class="Statement">setq</span> win-ypos <span class="Constant">64</span><span class="Special">))</span>
<span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">&gt;</span> win-num <span class="Constant">1</span><span class="Special">)</span> <span class="Special">(</span><span class="Statement">progn</span>
  <span class="Special">(</span><span class="Statement">setq</span> win-width <span class="Special">(</span><span class="Statement">+</span> <span class="Special">(</span><span class="Statement">*</span> nb-cols win-num<span class="Special">)</span> <span class="Special">(</span><span class="Statement">*</span> win-edge <span class="Special">(</span><span class="Statement">-</span> win-num <span class="Constant">1</span><span class="Special">))))</span>
  <span class="Special">(</span><span class="Statement">setq</span> win-height <span class="Special">(</span><span class="Statement">/</span> <span class="Special">(</span><span class="Statement">-</span> x-height <span class="Constant">75</span><span class="Special">)</span> y-font<span class="Special">))</span>
  <span class="Special">(</span><span class="Statement">setq</span> win-xpos <span class="Special">(</span><span class="Statement">-</span> x-width <span class="Special">(</span><span class="Statement">*</span> <span class="Special">(</span><span class="Statement">+</span> win-width <span class="Special">(</span><span class="Statement">+</span> win-edge <span class="Constant">1</span><span class="Special">))</span> x-font<span class="Special">)))</span>
  <span class="Special">(</span><span class="Statement">random</span> <span class="Statement">t</span><span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> win-xpos <span class="Special">(</span><span class="Statement">random</span> win-xpos<span class="Special">))</span>
  <span class="Special">(</span><span class="Statement">setq</span> initial-frame-alist <span class="Special">(</span><span class="Statement">list</span>
    <span class="Special">(</span><span class="Statement">cons</span> <span class="Special">'</span><span class="Identifier">top</span> win-ypos<span class="Special">)</span>
    <span class="Special">(</span><span class="Statement">cons</span> <span class="Special">'</span><span class="Identifier">left</span> win-xpos<span class="Special">)</span>
    <span class="Special">(</span><span class="Statement">cons</span> <span class="Special">'</span><span class="Identifier">width</span> win-width<span class="Special">)</span>
    <span class="Special">(</span><span class="Statement">cons</span> <span class="Special">'</span><span class="Identifier">height</span> win-height<span class="Special">)))</span>
<span class="Special">))</span>

<span class="Comment">; Titre de la fenetre</span>
<span class="Special">(</span><span class="Statement">setq</span> frame-title-format <span class="Constant">&quot;Emacs&quot;</span><span class="Special">)</span>

<span class="Comment">; Curseur non clignotant</span>
<span class="Special">(</span>blink-cursor-mode <span class="Constant">0</span><span class="Special">)</span>

<span class="Comment">; Cloche silencieuse</span>
<span class="Special">(</span><span class="Statement">setq</span> visible-bell <span class="Statement">t</span><span class="Special">)</span>

<span class="Comment">; Remplacement des tabulations par des espaces</span>
<span class="Special">(</span><span class="Statement">defun</span> indent-setup <span class="Special">(</span>num<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> c-default-style <span class="Constant">&quot;linux&quot;</span><span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">and</span> <span class="Special">(</span><span class="Statement">boundp</span> <span class="Special">'</span><span class="Identifier">c-buffer-is-cc-mode</span><span class="Special">)</span> c-buffer-is-cc-mode<span class="Special">)</span>
    <span class="Special">(</span>c-set-style <span class="Constant">&quot;linux&quot;</span><span class="Special">))</span>
  <span class="Special">(</span><span class="Statement">setq</span> c-basic-offset num<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> indent-tabs-mode <span class="Statement">nil</span><span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> tab-width num<span class="Special">)</span>
<span class="Special">)</span>
<span class="Special">(</span><span class="Statement">defun</span> indent2 <span class="Special">()</span>
  <span class="Special">(</span>interactive<span class="Special">)</span>
  <span class="Special">(</span>indent-setup <span class="Constant">2</span><span class="Special">)</span>
<span class="Special">)</span>
<span class="Special">(</span><span class="Statement">defun</span> indent4 <span class="Special">()</span>
  <span class="Special">(</span>interactive<span class="Special">)</span>
  <span class="Special">(</span>indent-setup <span class="Constant">4</span><span class="Special">)</span>
<span class="Special">)</span>
<span class="Special">(</span>add-hook           <span class="Special">'</span><span class="Identifier">c++-mode-hook</span> <span class="Special">'</span><span class="Identifier">indent4</span><span class="Special">)</span>
<span class="Special">(</span>add-hook             <span class="Special">'</span><span class="Identifier">c-mode-hook</span> <span class="Special">'</span><span class="Identifier">indent4</span><span class="Special">)</span>
<span class="Special">(</span>add-hook            <span class="Special">'</span><span class="Identifier">sh-mode-hook</span> <span class="Special">'</span><span class="Identifier">indent4</span><span class="Special">)</span>
<span class="Special">(</span>add-hook           <span class="Special">'</span><span class="Identifier">php-mode-hook</span> <span class="Special">'</span><span class="Identifier">indent4</span><span class="Special">)</span>
<span class="Special">(</span>add-hook            <span class="Special">'</span><span class="Identifier">js-mode-hook</span> <span class="Special">'</span><span class="Identifier">indent4</span><span class="Special">)</span>
<span class="Special">(</span>add-hook    <span class="Special">'</span><span class="Identifier">javascript-mode-hook</span> <span class="Special">'</span><span class="Identifier">indent4</span><span class="Special">)</span>
<span class="Special">(</span>add-hook <span class="Special">'</span><span class="Identifier">nxhtml-mumamo-mode-hook</span> <span class="Special">'</span><span class="Identifier">indent4</span><span class="Special">)</span>

<span class="Comment">; Suppression des espaces en fin de ligne a l'enregistrement</span>
<span class="Special">(</span>add-hook <span class="Special">'</span><span class="Identifier">c++-mode-hook</span> <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span>
  <span class="Special">(</span>add-hook 'write-contents-hooks 'delete-trailing-whitespace <span class="Statement">nil</span> <span class="Statement">t</span><span class="Special">))</span><span class="Special">)</span>
<span class="Special">(</span>add-hook   <span class="Special">'</span><span class="Identifier">c-mode-hook</span> <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span>
  <span class="Special">(</span>add-hook 'write-contents-hooks 'delete-trailing-whitespace <span class="Statement">nil</span> <span class="Statement">t</span><span class="Special">))</span><span class="Special">)</span>
<span class="Special">(</span>add-hook  <span class="Special">'</span><span class="Identifier">sh-mode-hook</span> <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span>
  <span class="Special">(</span>add-hook 'write-contents-hooks 'delete-trailing-whitespace <span class="Statement">nil</span> <span class="Statement">t</span><span class="Special">))</span><span class="Special">)</span>
<span class="Special">(</span>add-hook  <span class="Special">'</span><span class="Identifier">js-mode-hook</span> <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span>
  <span class="Special">(</span>add-hook 'write-contents-hooks 'delete-trailing-whitespace <span class="Statement">nil</span> <span class="Statement">t</span><span class="Special">))</span><span class="Special">)</span>

<span class="Comment">; Nouveaux types</span>
<span class="Special">(</span><span class="Statement">setq</span> c++-font-lock-extra-types
  <span class="Special">(</span><span class="Statement">list</span> <span class="Constant">&quot;UInt&quot;</span> <span class="Constant">&quot;SInt&quot;</span> <span class="Constant">&quot;UCar&quot;</span> <span class="Constant">&quot;ULong&quot;</span> <span class="Constant">&quot;UInt8&quot;</span> <span class="Constant">&quot;UInt16&quot;</span> <span class="Constant">&quot;UInt32&quot;</span> <span class="Constant">&quot;UInt64&quot;</span><span class="Special">))</span>
<span class="Special">(</span><span class="Statement">setq</span>   c-font-lock-extra-types
  <span class="Special">(</span><span class="Statement">list</span> <span class="Constant">&quot;UInt&quot;</span> <span class="Constant">&quot;SInt&quot;</span> <span class="Constant">&quot;UCar&quot;</span> <span class="Constant">&quot;ULong&quot;</span> <span class="Constant">&quot;UInt8&quot;</span> <span class="Constant">&quot;UInt16&quot;</span> <span class="Constant">&quot;UInt32&quot;</span> <span class="Constant">&quot;UInt64&quot;</span><span class="Special">))</span>

<span class="Comment">; HTML / PHP / JavaScript</span>
<span class="Special">(</span>autoload <span class="Special">'</span><span class="Identifier">php-mode</span> <span class="Constant">&quot;php-mode&quot;</span> <span class="Statement">nil</span> <span class="Statement">t</span><span class="Special">)</span>
<span class="Special">(</span>autoload <span class="Special">'</span><span class="Identifier">javascript-mode</span> <span class="Constant">&quot;javascript&quot;</span> <span class="Statement">nil</span> <span class="Statement">t</span><span class="Special">)</span>
<span class="Special">(</span>autoload <span class="Special">'</span><span class="Identifier">nxhtml-mumamo-mode</span> <span class="Constant">&quot;nxhtml/autostart.el&quot;</span> <span class="Statement">nil</span> <span class="Statement">t</span><span class="Special">)</span>
<span class="Special">(</span>add-hook <span class="Special">'</span><span class="Identifier">nxhtml-mumamo-mode-hook</span> <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span>
  <span class="Special">(</span><span class="Statement">setq</span> mumamo-background-colors <span class="Statement">nil</span><span class="Special">)</span>
  <span class="Special">(</span>font-lock-mode 0<span class="Special">)</span>
  <span class="Special">(</span>font-lock-mode 1<span class="Special">))</span><span class="Special">)</span>

<span class="Comment">; Modes</span>
<span class="Special">(</span>add-to-list <span class="Special">'</span><span class="Identifier">auto-mode-alist</span> <span class="Special">'</span><span class="Special">(</span> <span class="Constant">&quot;todo&quot;</span>     . text-mode<span class="Special">)</span><span class="Special">)</span>
<span class="Special">(</span>add-to-list <span class="Special">'</span><span class="Identifier">auto-mode-alist</span> <span class="Special">'</span><span class="Special">(</span> <span class="Constant">&quot;.php$&quot;</span>    . php-mode<span class="Special">)</span><span class="Special">)</span>
<span class="Special">(</span>add-to-list <span class="Special">'</span><span class="Identifier">auto-mode-alist</span> <span class="Special">'</span><span class="Special">(</span><span class="Constant">&quot;.wsdl$&quot;</span>    . sgml-mode<span class="Special">)</span><span class="Special">)</span>
<span class="Special">(</span>add-to-list <span class="Special">'</span><span class="Identifier">auto-mode-alist</span> <span class="Special">'</span><span class="Special">(</span> <span class="Constant">&quot;.xsd$&quot;</span>    . sgml-mode<span class="Special">)</span><span class="Special">)</span>
<span class="Special">(</span>add-to-list <span class="Special">'</span><span class="Identifier">auto-mode-alist</span> <span class="Special">'</span><span class="Special">(</span> <span class="Constant">&quot;.pro$&quot;</span>    . makefile-mode<span class="Special">)</span><span class="Special">)</span>
<span class="Special">(</span>add-to-list <span class="Special">'</span><span class="Identifier">auto-mode-alist</span> <span class="Special">'</span><span class="Special">(</span> <span class="Constant">&quot;.pri$&quot;</span>    . makefile-mode<span class="Special">)</span><span class="Special">)</span>
<span class="Special">(</span>add-to-list <span class="Special">'</span><span class="Identifier">auto-mode-alist</span> <span class="Special">'</span><span class="Special">(</span> <span class="Constant">&quot;Makefile&quot;</span> . makefile-mode<span class="Special">)</span><span class="Special">)</span>

<span class="Comment">; Indent</span>
<span class="Special">(</span><span class="Statement">defun</span> indent <span class="Special">(</span>pmin pmax<span class="Special">)</span>
  <span class="Special">(</span>interactive <span class="Constant">&quot;r&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>shell-command-on-region pmin pmax
    <span class="Constant">&quot;indent -orig -l80 -npsl -cdw -nut -c0 -cd0&quot;</span>
    <span class="Special">(</span>current-buffer<span class="Special">)</span> <span class="Statement">t</span> <span class="Special">(</span>get-buffer-create <span class="Constant">&quot;*Indent Errors*&quot;</span><span class="Special">)</span> <span class="Statement">t</span><span class="Special">))</span>

<span class="Comment">; Artistic Style</span>
<span class="Special">(</span><span class="Statement">defun</span> astyle <span class="Special">(</span>pmin pmax<span class="Special">)</span>
  <span class="Special">(</span>interactive <span class="Constant">&quot;r&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>shell-command-on-region pmin pmax <span class="Constant">&quot;astyle -apUc&quot;</span>
    <span class="Special">(</span>current-buffer<span class="Special">)</span> <span class="Statement">t</span> <span class="Special">(</span>get-buffer-create <span class="Constant">&quot;*Astyle Errors*&quot;</span><span class="Special">)</span> <span class="Statement">t</span><span class="Special">))</span>

<span class="Comment">; Uncrustify</span>
<span class="Special">(</span><span class="Statement">defun</span> uncrustify <span class="Special">(</span>pmin pmax<span class="Special">)</span>
  <span class="Special">(</span>interactive <span class="Constant">&quot;r&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>shell-command-on-region pmin pmax <span class="Constant">&quot;uncrustify -q -l CPP -c ~/.uncrustify.cfg&quot;</span>
    <span class="Special">(</span>current-buffer<span class="Special">)</span> <span class="Statement">t</span> <span class="Special">(</span>get-buffer-create <span class="Constant">&quot;*Uncrustify Errors*&quot;</span><span class="Special">)</span> <span class="Statement">t</span><span class="Special">))</span>

<span class="Comment">; Commandes shell</span>
<span class="Special">(</span>autoload <span class="Special">'</span><span class="Identifier">dired-run-shell-command</span> <span class="Constant">&quot;dired-aux&quot;</span> <span class="Statement">nil</span> <span class="Statement">t</span><span class="Special">)</span>
<span class="Special">(</span><span class="Statement">defun</span> purge <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span> <span class="Special">(</span>dired-run-shell-command <span class="Constant">&quot;rm -fv *~&quot;</span><span class="Special">))</span>
<span class="Special">(</span><span class="Statement">defun</span> make  <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span> <span class="Special">(</span>dired-run-shell-command <span class="Constant">&quot;make &amp;&quot;</span><span class="Special">))</span>

<span class="Comment">; Web</span>
<span class="Special">(</span><span class="Statement">provide</span> <span class="Special">'</span><span class="Identifier">w3m-e23</span><span class="Special">)</span>
<span class="Special">(</span>autoload <span class="Special">'</span><span class="Identifier">w3m</span> <span class="Constant">&quot;w3m-load&quot;</span> <span class="Statement">nil</span> <span class="Statement">t</span><span class="Special">)</span>
<span class="Special">(</span>autoload <span class="Special">'</span><span class="Identifier">w3m-find-coding-system</span> <span class="Constant">&quot;w3m-e21&quot;</span> <span class="Statement">nil</span> <span class="Statement">t</span><span class="Special">)</span>
<span class="Special">(</span><span class="Statement">setq</span> w3m-use-cookies <span class="Statement">t</span><span class="Special">)</span>

<span class="Comment">; Une, deux, ou trois fenetres</span>
<span class="Special">(</span><span class="Statement">defun</span> after-make-frame <span class="Special">(</span>frame<span class="Special">)</span>
  <span class="Special">(</span>select-frame frame<span class="Special">)</span>
  <span class="Special">(</span>frame-setup<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> win-width <span class="Special">(</span><span class="Statement">+</span> <span class="Special">(</span><span class="Statement">*</span> nb-cols num<span class="Special">)</span> <span class="Special">(</span><span class="Statement">*</span> win-edge <span class="Special">(</span><span class="Statement">-</span> num <span class="Constant">1</span><span class="Special">))))</span>
  <span class="Special">(</span>set-frame-position frame win-xpos win-ypos<span class="Special">)</span>
  <span class="Special">(</span>set-frame-size frame win-width win-height<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">&gt;</span> num <span class="Constant">2</span><span class="Special">)</span>
      <span class="Special">(</span>split-window <span class="Special">(</span>selected-window<span class="Special">)</span> <span class="Special">(</span><span class="Statement">*</span> <span class="Special">(</span><span class="Statement">+</span> nb-cols win-edge<span class="Special">)</span> <span class="Constant">2</span><span class="Special">)</span> <span class="Statement">t</span> <span class="Statement">nil</span><span class="Special">))</span>
  <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">&gt;</span> num <span class="Constant">1</span><span class="Special">)</span>
      <span class="Special">(</span>split-window <span class="Special">(</span>selected-window<span class="Special">)</span>    <span class="Special">(</span><span class="Statement">+</span> nb-cols win-edge<span class="Special">)</span>    <span class="Statement">t</span> <span class="Statement">nil</span><span class="Special">))</span>
  <span class="Special">(</span>delete-frame <span class="Special">(</span>previous-frame<span class="Special">))</span>
<span class="Special">)</span>
<span class="Special">(</span>global-set-key [f1] <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> after-make-frame-functions 'after-make-frame<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> num 1<span class="Special">)</span> <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">&lt;</span> win-num num<span class="Special">)</span> <span class="Special">(</span><span class="Statement">setq</span> num win-num<span class="Special">))</span>
  <span class="Special">(</span>make-frame<span class="Special">)</span>
<span class="Special">)</span><span class="Special">)</span>
<span class="Special">(</span>global-set-key [f2] <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> after-make-frame-functions 'after-make-frame<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> num 2<span class="Special">)</span> <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">&lt;</span> win-num num<span class="Special">)</span> <span class="Special">(</span><span class="Statement">setq</span> num win-num<span class="Special">))</span>
  <span class="Special">(</span>make-frame<span class="Special">)</span>
<span class="Special">)</span><span class="Special">)</span>
<span class="Special">(</span>global-set-key [f3] <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> after-make-frame-functions 'after-make-frame<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> num 3<span class="Special">)</span> <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">&lt;</span> win-num num<span class="Special">)</span> <span class="Special">(</span><span class="Statement">setq</span> num win-num<span class="Special">))</span>
  <span class="Special">(</span>make-frame<span class="Special">)</span>
<span class="Special">)</span><span class="Special">)</span>

<span class="Comment">; Sauvegarde des positions dans les fichiers utilises</span>
<span class="Special">(</span><span class="Statement">require</span> <span class="Special">'</span><span class="Identifier">saveplace</span><span class="Special">)</span>
<span class="Special">(</span>setq-default save-place <span class="Statement">t</span><span class="Special">)</span>

<span class="Comment">; Sauvegarde des derniers noms de fichiers utilises</span>
<span class="Special">(</span><span class="Statement">defun</span> save-prev-buffer-file-name <span class="Special">()</span>
  <span class="Special">(</span>other-window <span class="Constant">-1</span><span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">if</span> buffer-file-name <span class="Special">(</span><span class="Statement">progn</span>
    <span class="Special">(</span><span class="Statement">setq</span> list-buffers <span class="Special">(</span><span class="Statement">cons</span> <span class="Special">(</span><span class="Statement">list</span> buffer-file-name<span class="Special">)</span> list-buffers<span class="Special">))</span>
    <span class="Special">(</span>kill-this-buffer<span class="Special">)</span>
  <span class="Special">))</span>
<span class="Special">)</span>
<span class="Special">(</span>add-hook <span class="Special">'</span><span class="Identifier">kill-emacs-hook</span> <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span>
  <span class="Special">(</span>select-window <span class="Special">(</span>window-at 0 0<span class="Special">))</span>
  <span class="Special">(</span><span class="Statement">setq</span> list-buffers <span class="Statement">nil</span><span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">&gt;</span> win-num 2<span class="Special">)</span> <span class="Special">(</span>save-prev-buffer-file-name<span class="Special">))</span>
  <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">&gt;</span> win-num 1<span class="Special">)</span> <span class="Special">(</span>save-prev-buffer-file-name<span class="Special">))</span>
  <span class="Special">(</span>save-prev-buffer-file-name<span class="Special">)</span>
  <span class="Special">(</span>set-buffer <span class="Special">(</span>get-buffer-create <span class="Constant">&quot;*Saved Last*&quot;</span><span class="Special">))</span>
  <span class="Special">(</span>delete-region <span class="Special">(</span>point-min<span class="Special">)</span> <span class="Special">(</span>point-max<span class="Special">))</span>
  <span class="Special">(</span><span class="Statement">print</span> list-buffers <span class="Special">(</span>current-buffer<span class="Special">))</span>
  <span class="Special">(</span>write-region <span class="Special">(</span>point-min<span class="Special">)</span> <span class="Special">(</span>point-max<span class="Special">)</span> <span class="Constant">&quot;~/.emacs-last&quot;</span><span class="Special">)</span>
<span class="Special">)</span><span class="Special">)</span>

<span class="Comment">; Chargement des derniers fichiers utilises</span>
<span class="Special">(</span>global-set-key [f4] <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span>file-readable-p <span class="Constant">&quot;~/.emacs-last&quot;</span><span class="Special">)</span> <span class="Special">(</span><span class="Statement">progn</span>
    <span class="Special">(</span>delete-other-windows<span class="Special">)</span>
    <span class="Special">(</span>find-file <span class="Constant">&quot;~/.emacs-last&quot;</span><span class="Special">)</span>
    <span class="Special">(</span><span class="Statement">setq</span> last-buffers
      <span class="Special">(</span><span class="Statement">car</span> <span class="Special">(</span><span class="Statement">read-from-string</span> <span class="Special">(</span>buffer-substring <span class="Special">(</span>point-min<span class="Special">)</span> <span class="Special">(</span>point-max<span class="Special">)))))</span>
    <span class="Special">(</span>kill-buffer <span class="Constant">&quot;.emacs-last&quot;</span><span class="Special">)</span>
    <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">&gt;</span> win-num 2<span class="Special">)</span>
      <span class="Special">(</span><span class="Statement">progn</span>
        <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">caar</span> <span class="Special">(</span><span class="Statement">cddr</span> last-buffers<span class="Special">))</span> <span class="Special">(</span>find-file <span class="Special">(</span><span class="Statement">caar</span> <span class="Special">(</span><span class="Statement">cddr</span> last-buffers<span class="Special">))))</span>
        <span class="Special">(</span>split-window <span class="Special">(</span>selected-window<span class="Special">)</span> <span class="Special">(</span><span class="Statement">*</span> <span class="Special">(</span><span class="Statement">+</span> nb-cols win-edge<span class="Special">)</span> 2<span class="Special">)</span> 1<span class="Special">)</span>
      <span class="Special">)</span>
    <span class="Special">)</span>
    <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">&gt;</span> win-num 1<span class="Special">)</span>
      <span class="Special">(</span><span class="Statement">progn</span>
        <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">car</span>  <span class="Special">(</span><span class="Statement">cadr</span> last-buffers<span class="Special">))</span> <span class="Special">(</span>find-file <span class="Special">(</span><span class="Statement">car</span>  <span class="Special">(</span><span class="Statement">cadr</span> last-buffers<span class="Special">))))</span>
        <span class="Special">(</span>split-window <span class="Special">(</span>selected-window<span class="Special">)</span> <span class="Special">(</span><span class="Statement">+</span> nb-cols win-edge<span class="Special">)</span> 1<span class="Special">)</span>
      <span class="Special">)</span>
    <span class="Special">)</span>
    <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">caar</span> last-buffers<span class="Special">)</span> <span class="Special">(</span>find-file <span class="Special">(</span><span class="Statement">caar</span> last-buffers<span class="Special">)))</span>
  <span class="Special">))</span>
<span class="Special">)</span><span class="Special">)</span>

<span class="Comment">; Buffer precedent</span>
<span class="Special">(</span><span class="Statement">setq</span> last-prev-buffer <span class="Statement">nil</span><span class="Special">)</span>
<span class="Special">(</span>global-set-key [f5] <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> last-prev-buffer <span class="Special">(</span>current-buffer<span class="Special">))</span>
  <span class="Special">(</span>switch-to-buffer <span class="Special">(</span>other-buffer<span class="Special">))</span>
<span class="Special">)</span><span class="Special">)</span>
<span class="Special">(</span>global-set-key [f6] <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span>
  <span class="Special">(</span>switch-to-buffer <span class="Special">(</span>other-buffer last-prev-buffer<span class="Special">))</span>
<span class="Special">)</span><span class="Special">)</span>

<span class="Comment">; Ajustements des fenetres</span>
<span class="Special">(</span>global-set-key [f7]  <span class="Special">'</span><span class="Identifier">shrink-window-horizontally</span><span class="Special">)</span>
<span class="Special">(</span>global-set-key [f8] <span class="Special">'</span><span class="Identifier">enlarge-window-horizontally</span><span class="Special">)</span>

<span class="Comment">; Mail</span>
<span class="Special">(</span>autoload <span class="Special">'</span><span class="Identifier">expand-mail-aliases</span>   <span class="Constant">&quot;mailalias&quot;</span> <span class="Statement">nil</span> <span class="Statement">t</span><span class="Special">)</span>
<span class="Special">(</span>autoload <span class="Special">'</span><span class="Identifier">message-make-date</span>     <span class="Constant">&quot;message&quot;</span>   <span class="Statement">nil</span> <span class="Statement">t</span><span class="Special">)</span>
<span class="Special">(</span>autoload <span class="Special">'</span><span class="Identifier">mc-install-write-mode</span> <span class="Constant">&quot;mailcrypt&quot;</span> <span class="Statement">nil</span> <span class="Statement">t</span><span class="Special">)</span>
<span class="Special">(</span>autoload <span class="Special">'</span><span class="Identifier">smtpmail-send-it</span>      <span class="Constant">&quot;smtpmail&quot;</span>  <span class="Statement">nil</span> <span class="Statement">t</span><span class="Special">)</span>
<span class="Special">(</span><span class="Statement">defun</span> mail-send-setup <span class="Special">()</span>
  <span class="Special">(</span>rfc822-goto-eoh<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> delimline <span class="Special">(</span>point-marker<span class="Special">))</span>

  <span class="Special">(</span>expand-mail-aliases <span class="Special">(</span>point-min<span class="Special">)</span> delimline<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> mail-aliases <span class="Statement">nil</span><span class="Special">)</span>

  <span class="Special">(</span>goto-char <span class="Special">(</span>point-min<span class="Special">))</span>
  <span class="Special">(</span><span class="Statement">unless</span> <span class="Special">(</span>re-search-forward <span class="Constant">&quot;^Date:&quot;</span> delimline <span class="Statement">t</span><span class="Special">)</span>
    <span class="Special">(</span>insert <span class="Constant">&quot;Date: &quot;</span> <span class="Special">(</span>message-make-date<span class="Special">)</span> <span class="Constant">&quot;\n&quot;</span><span class="Special">))</span>

  <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span>file-exists-p <span class="Constant">&quot;~/.xface&quot;</span><span class="Special">)</span> <span class="Special">(</span>insert-file-contents <span class="Constant">&quot;~/.xface&quot;</span><span class="Special">))</span>

  <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">y-or-n-p</span> <span class="Constant">&quot;justifier ? &quot;</span><span class="Special">)</span> <span class="Special">(</span>justify-buffer<span class="Special">))</span>

  <span class="Special">(</span>rfc822-goto-eoh<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">y-or-n-p</span> <span class="Constant">&quot;chiffrer ? &quot;</span><span class="Special">)</span>
    <span class="Special">(</span><span class="Statement">progn</span>
      <span class="Special">(</span>save-buffer<span class="Special">)</span>
      <span class="Special">(</span>insert mail-header-separator <span class="Constant">&quot;\n&quot;</span><span class="Special">)</span>
      <span class="Special">(</span>mc-install-write-mode<span class="Special">)</span>
      <span class="Special">(</span>mc-setversion <span class="Constant">&quot;gpg&quot;</span><span class="Special">)</span>
      <span class="Special">(</span><span class="Statement">setq</span> mc-pgp-always-sign <span class="Special">'</span><span class="Identifier">never</span><span class="Special">)</span>
      <span class="Special">(</span>mc-encrypt <span class="Constant">0</span><span class="Special">))</span>
    <span class="Special">(</span><span class="Statement">progn</span>
      <span class="Special">(</span>insert <span class="Constant">&quot;Content-Type: text/plain; charset=utf-8\n&quot;</span><span class="Special">)</span>
      <span class="Special">(</span>save-buffer<span class="Special">))</span>
  <span class="Special">)</span>

  <span class="Special">(</span>rename-buffer <span class="Special">(</span>concat <span class="Constant">&quot;*&quot;</span> <span class="Special">(</span>buffer-name<span class="Special">)</span> <span class="Constant">&quot;*&quot;</span><span class="Special">))</span>
<span class="Special">)</span>
<span class="Special">(</span><span class="Statement">defun</span> mel <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> dir-mail  <span class="Constant">&quot;~/.emacs-mel/&quot;</span><span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> dir-draft <span class="Special">(</span>concat dir-mail <span class="Constant">&quot;brouillons/&quot;</span><span class="Special">))</span>
  <span class="Special">(</span><span class="Statement">setq</span> dir-sent  <span class="Special">(</span>concat dir-mail <span class="Constant">&quot;envoyes/&quot;</span> <span class="Special">))</span>
  <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">not</span> <span class="Special">(</span>file-accessible-directory-p dir-draft<span class="Special">))</span>
    <span class="Special">(</span><span class="Statement">error</span> <span class="Special">(</span>concat dir-draft <span class="Constant">&quot; n'est pas accessible&quot;</span><span class="Special">)))</span>
  <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">not</span> <span class="Special">(</span>file-accessible-directory-p dir-sent <span class="Special">))</span>
    <span class="Special">(</span><span class="Statement">error</span> <span class="Special">(</span>concat dir-sent  <span class="Constant">&quot; n'est pas accessible&quot;</span><span class="Special">)))</span>

  <span class="Special">(</span><span class="Statement">setq</span> draft-num <span class="Special">(</span>shell-command-to-string
    <span class="Special">(</span>concat <span class="Constant">&quot;cd &quot;</span> dir-sent <span class="Constant">&quot;; ls *.mel 2&gt; /dev/null | tail -n 1 |</span>
<span class="Constant">     cut -c-5 | gawk 'END { printf \&quot;%05d\&quot;, $0+1 }'&quot;</span><span class="Special">)))</span>
  <span class="Special">(</span><span class="Statement">setq</span> draft-filename <span class="Special">(</span>concat dir-draft draft-num <span class="Constant">&quot;.mel&quot;</span><span class="Special">))</span>
  <span class="Special">(</span><span class="Statement">setq</span> draft-exist <span class="Special">(</span>file-exists-p draft-filename<span class="Special">))</span>
  <span class="Special">(</span>find-file draft-filename<span class="Special">)</span>

  <span class="Special">(</span>mail-mode<span class="Special">)</span>
  <span class="Special">(</span>mail-to<span class="Special">)</span>
  <span class="Special">(</span>mail-subject<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> delimline <span class="Special">(</span>point-marker<span class="Special">))</span>
  <span class="Special">(</span>goto-char <span class="Special">(</span>point-min<span class="Special">))</span>
  <span class="Special">(</span><span class="Statement">unless</span> <span class="Special">(</span>re-search-forward <span class="Constant">&quot;^From:&quot;</span> delimline <span class="Statement">t</span><span class="Special">)</span>
    <span class="Special">(</span>insert <span class="Constant">&quot;From: &quot;</span> user-full-name <span class="Constant">&quot; &lt;&quot;</span> user-mail-address <span class="Constant">&quot;&gt;\n&quot;</span><span class="Special">))</span>
  <span class="Special">(</span>mail-text<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">not</span> draft-exist<span class="Special">)</span> <span class="Special">(</span><span class="Statement">progn</span>
    <span class="Special">(</span>insert <span class="Constant">&quot;\n&quot;</span><span class="Special">)</span>
    <span class="Special">(</span><span class="Statement">if</span> mail-signature <span class="Special">(</span><span class="Statement">progn</span>
      <span class="Special">(</span><span class="Statement">setq</span> to <span class="Special">(</span>point<span class="Special">))</span>
      <span class="Special">(</span>insert <span class="Constant">&quot;\n-- \n&quot;</span><span class="Special">)</span>
      <span class="Special">(</span>insert mail-signature<span class="Special">)</span>
      <span class="Special">(</span>goto-char to<span class="Special">)</span>
    <span class="Special">))</span>
  <span class="Special">))</span>
  <span class="Special">(</span>save-buffer<span class="Special">)</span>

  <span class="Special">(</span><span class="Statement">setq</span> fill-column <span class="Constant">60</span><span class="Special">)</span>
  <span class="Special">(</span>auto-fill-mode <span class="Constant">1</span><span class="Special">)</span>
  <span class="Special">(</span>flyspell-mode<span class="Special">)</span>
  <span class="Special">(</span>flyspell-region <span class="Special">(</span>point<span class="Special">)</span> <span class="Special">(</span>point-max<span class="Special">))</span>

  <span class="Special">(</span>add-hook <span class="Special">'</span><span class="Identifier">mail-send-hook</span> <span class="Special">'</span><span class="Identifier">mail-send-setup</span><span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> mail-aliases <span class="Statement">t</span><span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> send-mail-function <span class="Special">'</span><span class="Identifier">smtpmail-send-it</span><span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">setq</span> smtpmail-smtp-server mail-smtp-address<span class="Special">)</span>

  <span class="Special">(</span><span class="Statement">setq</span> mail-send-actions <span class="Special">(</span><span class="Statement">list</span> <span class="Special">(</span><span class="Statement">list</span> <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">(</span>dummy<span class="Special">)</span> <span class="Special">(</span>interactive<span class="Special">)</span>
    <span class="Special">(</span><span class="Statement">rename-file</span> draft-filename <span class="Special">(</span>concat dir-sent draft-num <span class="Constant">&quot;.mel&quot;</span><span class="Special">))</span>
    <span class="Special">(</span><span class="Statement">setq</span> mail-aliases <span class="Statement">t</span><span class="Special">)</span>
  <span class="Special">)</span> <span class="Statement">t</span><span class="Special">)</span> <span class="Statement">nil</span><span class="Special">))</span>
<span class="Special">)</span>

<span class="Comment">; Pause XMMS</span>
<span class="Special">(</span>global-set-key [f9] <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span>
  <span class="Special">(</span>shell-command <span class="Constant">&quot;xmms2 toggle&quot;</span><span class="Special">)</span>
<span class="Special">)</span><span class="Special">)</span>

<span class="Comment">; Justification</span>
<span class="Special">(</span><span class="Statement">defun</span> justify-buffer <span class="Special">()</span>
  <span class="Special">(</span><span class="Statement">if</span> mark-active
    <span class="Special">(</span><span class="Statement">progn</span> <span class="Special">(</span><span class="Statement">setq</span> <span class="Statement">min</span> <span class="Special">(</span>mark<span class="Special">))</span>
           <span class="Special">(</span><span class="Statement">setq</span> <span class="Statement">max</span> <span class="Special">(</span>point<span class="Special">)))</span>
    <span class="Special">(</span><span class="Statement">if</span> <span class="Special">(</span><span class="Statement">eq</span> major-mode <span class="Special">'</span><span class="Identifier">mail-mode</span><span class="Special">)</span>
      <span class="Special">(</span><span class="Statement">progn</span> <span class="Special">(</span>rfc822-goto-eoh<span class="Special">)</span>
             <span class="Special">(</span><span class="Statement">setq</span> <span class="Statement">min</span> <span class="Special">(</span>point<span class="Special">))</span>
             <span class="Special">(</span><span class="Statement">setq</span> <span class="Statement">max</span> <span class="Special">(</span>point-max<span class="Special">)))</span>
      <span class="Special">(</span><span class="Statement">progn</span> <span class="Special">(</span><span class="Statement">setq</span> <span class="Statement">min</span> <span class="Special">(</span>point-min<span class="Special">))</span>
             <span class="Special">(</span><span class="Statement">setq</span> <span class="Statement">max</span> <span class="Special">(</span>point-max<span class="Special">)))</span>
    <span class="Special">)</span>
  <span class="Special">)</span>
  <span class="Special">(</span>fill-region <span class="Statement">min</span> <span class="Statement">max</span><span class="Special">)</span>
<span class="Special">)</span>
<span class="Special">(</span>global-set-key [f10] <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span>
  <span class="Special">(</span>justify-buffer<span class="Special">)</span>
<span class="Special">)</span><span class="Special">)</span>

<span class="Comment">; Largeur du texte</span>
<span class="Special">(</span>add-hook  <span class="Special">'</span><span class="Identifier">tex-mode-hook</span> <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span>
                 <span class="Special">(</span><span class="Statement">setq</span> fill-column nb-cols<span class="Special">)</span> <span class="Special">(</span>auto-fill-mode 1<span class="Special">))</span><span class="Special">)</span>
<span class="Special">(</span>add-hook <span class="Special">'</span><span class="Identifier">text-mode-hook</span> <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span>
                 <span class="Special">(</span><span class="Statement">setq</span> fill-column nb-cols<span class="Special">)</span> <span class="Special">(</span>auto-fill-mode 1<span class="Special">))</span><span class="Special">)</span>

<span class="Comment">; Orthographe</span>
<span class="Special">(</span><span class="Statement">setq</span> flyspell-mode <span class="Statement">nil</span><span class="Special">)</span>
<span class="Special">(</span>unify-8859-on-encoding-mode <span class="Constant">1</span><span class="Special">)</span>
<span class="Special">(</span>unify-8859-on-decoding-mode <span class="Constant">1</span><span class="Special">)</span>
<span class="Special">(</span><span class="Statement">setq</span> ispell-program-name <span class="Constant">&quot;aspell&quot;</span><span class="Special">)</span>
<span class="Special">(</span><span class="Statement">setq</span> ispell-dictionary <span class="Constant">&quot;francais&quot;</span><span class="Special">)</span>
<span class="Special">(</span><span class="Statement">setq</span> flyspell-large-region <span class="Constant">10000</span><span class="Special">)</span>

<span class="Special">(</span>global-set-key [f11] <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span>
  <span class="Special">(</span><span class="Statement">if</span> flyspell-mode
    <span class="Special">(</span>flyspell-mode 0<span class="Special">)</span>
    <span class="Special">(</span><span class="Statement">progn</span>
      <span class="Special">(</span>flyspell-mode 1<span class="Special">)</span>
      <span class="Special">(</span><span class="Statement">if</span> mark-active
        <span class="Special">(</span>flyspell-region <span class="Special">(</span>mark<span class="Special">)</span> <span class="Special">(</span>point<span class="Special">))</span>
        <span class="Special">(</span>flyspell-buffer<span class="Special">)</span>
      <span class="Special">)</span>
    <span class="Special">)</span>
  <span class="Special">)</span>
<span class="Special">)</span><span class="Special">)</span>

<span class="Comment">; Clean</span>
<span class="Special">(</span><span class="Statement">defun</span> clean <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span>
  <span class="Special">(</span>shell-command <span class="Constant">&quot;rm -f ~/.bash_history~ ~/.viminfo ~/.vim/.netrwhist&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>shell-command <span class="Constant">&quot;rm -f ~/.w3m/history ~/.w3m/bufinfo ~/.w3m/cookie&quot;</span><span class="Special">))</span>

<span class="Comment">; Aide sur les touches</span>
<span class="Special">(</span><span class="Statement">defun</span> key-bindings-help <span class="Special">()</span>
  <span class="Special">(</span>set-buffer <span class="Special">(</span>get-buffer-create <span class="Constant">&quot;*Key Bindings Help*&quot;</span><span class="Special">))</span>
  <span class="Special">(</span>delete-region <span class="Special">(</span>point-min<span class="Special">)</span> <span class="Special">(</span>point-max<span class="Special">))</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;F1         Une fenetre de 80 colonnes\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;F2         Deux fenetres de 80 colonnes\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;F3         Trois fenetres de 80 colonnes\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;F4         Charger les derniers fichiers utilises\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;F5         Buffer precedent\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;F6         Buffer precedent 2\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;F7         Retrecir la fenetre\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;F8         Agrandir la fenetre\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;F9         Pause XMMS\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;F10        Justifier\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;F11        Orthographe\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;F12        Aide sur les touches\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;&lt;S-right&gt;  Fenetre de droite\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;&lt;S-left&gt;   Fenetre de gauche\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;&lt;S-up&gt;     Defiler vers le haut\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;&lt;S-down&gt;   Defiler vers le bas\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;&lt;M-right&gt;  Defiler vers la droite\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;&lt;M-left&gt;   Defiler vers la gauche\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;&lt;home&gt;     Debut de ligne\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;&lt;end&gt;      Fin de ligne\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;&lt;M-g&gt;      Aller a une ligne\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;astyle     Indenter\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;indent     Indenter\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;make       Compiler\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;mel        Ecrire un courriel\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;purge      Supprimer les fichiers temporaires\n\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-x C-f    find-file\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-x C-s    save-buffer\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-x C-c    save-buffers-kill-terminal\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-SPC      set-mark-command\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;M-w        kill-ring-save\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-w        kill-region\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-y        yank\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-s        isearch-forward\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-r        isearch-backward\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-s C-w    forward word search\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;M-%        query-replace\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;&lt;C-down&gt;   forward-paragraph\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;&lt;C-end&gt;    end-of-buffer\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;&lt;C-home&gt;   beginning-of-buffer\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;&lt;C-left&gt;   backward-word\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;&lt;C-next&gt;   scroll-left\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;&lt;C-prior&gt;  scroll-right\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;&lt;C-right&gt;  forward-word\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;&lt;C-up&gt;     backward-paragraph\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-x h      mark-whole-buffer\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;M-x        execute-extended-command\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-g        keyboard-quit\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-_        undo\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-g C-_    undo undo\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;TAB        indent-for-tab-command\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;M-^        join-line\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-M-f      forward-sexp\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-M-b      backward-sexp\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-x r t    string-rectangle\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-x r k    kill-rectangle\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-x r y    yank-rectangle\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-h f      describe-function\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>insert <span class="Constant">&quot;C-h v      describe-variable\n&quot;</span><span class="Special">)</span>
  <span class="Special">(</span>goto-char <span class="Constant">0</span><span class="Special">)</span>
  <span class="Special">(</span>switch-to-buffer <span class="Special">(</span>current-buffer<span class="Special">))</span>
<span class="Special">)</span>
<span class="Special">(</span>global-set-key [f12] <span class="Special">'</span><span class="Special">(</span><span class="Statement">lambda</span> <span class="Special">()</span> <span class="Special">(</span>interactive<span class="Special">)</span> <span class="Special">(</span>key-bindings-help<span class="Special">))</span><span class="Special">)</span>
</pre>
</body>
</html>
<!-- vim: set foldmethod=manual : -->
